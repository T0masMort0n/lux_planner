Project Dump Generation Contract (System-owned, binding)
0) Purpose

Dump generation is system infrastructure, not a convenience. Dumps must show current repo state only, never stale artifacts.

1) Single Source of Dump Generation (SSOT)

Canonical script: tools/create_dumps.ps1

No alternate dump scripts/tools are permitted to generate artifacts that are sent to agents.

2) Dump scope rules

Must include (minimum):

src/**

AI_BRAIN/** except archive-like directories (see excludes)

System governance/architecture docs at repo root if present (e.g., project architecture, rules, roadmap)

Must exclude (hard excludes by directory name, anywhere in tree):

dumps, dump, snapshots, snapshot

archive, archives

backup, backups, .backup

old

.history

Virtual envs: .venv, venv, env

Build/artifacts/cache: dist, build, .pytest_cache, .mypy_cache, __pycache__, .cache, .ruff_cache, .tox, .eggs, node_modules

Git metadata: .git

Special case:

AI_BRAIN/Archive/** is always excluded even though AI_BRAIN/** is otherwise included.

3) Dump format rules

The dump is a read-only reference artifact.

It must preserve source files exactly as in repo.

It may use clear file headers in the dump only (e.g., ==== FILE: â€¦ ====).

It must never inject dump markers into any source file.

Binary files must be skipped (allowed).

4) Operational rule for agents

Before any dump is sent to any AI agent:

A fresh dump must be generated using the canonical script.

The Product Driver confirms it is the most recent.

Older dump artifacts must not be present in any visible path that could be traversed into the dump or confused as source.

5) Drift prevention clause (default diagnostic rule)

If a duplicate file, phantom code, or SSOT conflict appears in a dump but not in the repo:

First suspect dump contamination, not codebase drift.

Investigation order:

verify exclusions

verify output location

regenerate dump

only then investigate repo drift

6) Output location rule (critical)

Dump outputs must be written to a folder outside the repo root.

Standard: a sibling directory named dumps (example):

Repo: ...\lux_planner\

Dumps: ...\dumps\lux_planner\PROJECT_DUMP.txt and PROJECT_DIRECTORIES.txt

This prevents dumps from ever being re-ingested into future dumps.